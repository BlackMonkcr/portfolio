---
import Badge from "./Badge.astro";

interface Props {
  title: string;
  company: string;
  period: string;
  description: string;
  tags?: string[];
  companyUrl?: string;
}

const {
  title,
  company,
  period,
  description,
  tags = [],
  companyUrl,
} = Astro.props;
---

<div class="relative group">
  <div
    class="absolute -inset-1 bg-gradient-to-r from-purple-600 to-pink-600 rounded-lg blur opacity-25 group-hover:opacity-100 transition duration-1000 group-hover:duration-200"
  >
  </div>
  <div class="relative p-4 sm:p-6 bg-[#1e2028] rounded-lg leading-none">
    <div class="flex flex-col sm:flex-row sm:items-center gap-4">
      <div class="flex-1">
        <div class="flex items-center mb-2">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            class="w-5 h-5 mr-2 text-purple-500"
            width="24"
            height="24"
            viewBox="0 0 24 24"
            fill="none"
            stroke="currentColor"
            stroke-width="2"
            stroke-linecap="round"
            stroke-linejoin="round"
            ><rect width="20" height="14" x="2" y="7" rx="2" ry="2"></rect><path
              d="M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16"></path></svg
          >
          <h3 class="text-lg sm:text-xl font-bold text-white">{title}</h3>
        </div>
        <p class="text-zinc-400 text-sm mb-2">{company} â€¢ {period}</p>
        <p class="text-gray-300 mb-4">{description}</p>
        <div class="flex flex-wrap gap-2 mb-4">
          {tags.map((tag) => <Badge>{tag}</Badge>)}
        </div>
        {
          companyUrl && (
            <div class="flex justify-start">
              <a
                href={companyUrl}
                target="_blank"
                rel="noopener"
                class="inline-flex items-center gap-2 px-4 py-2 bg-transparent hover:bg-purple-600/10 border border-purple-600 rounded-md text-purple-400 hover:text-purple-300 text-sm transition-all"
              >
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  class="size-4"
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="2"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                >
                  <>
                    <path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6" />
                    <polyline points="15 3 21 3 21 9" />
                    <line x1="10" y1="14" x2="21" y2="3" />
                  </>
                </svg>
                Visitar empresa
              </a>
            </div>
          )
        }
      </div>
    </div>
  </div>
</div>
